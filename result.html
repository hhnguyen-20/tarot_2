{% extends 'base.html' %}

{% block body %}

<div class="single-card-container">
    <img id="displayedCard" src="{{ url_for('static', filename='images/' + cards[0] + '.jpg') }}" alt="Tarot Card {{ cards[0] }}">
    <button id="nextCard">Next Card</button>
</div>

{% if cards %}
<script>
    let selectedCards = {{ cards|tojson }};
    let currentCardIndex = 0;
    const endCardImage = "{{ url_for('static', filename='images/78.jpg') }}";

    function showCard(index) {
        const displayedCard = document.getElementById('displayedCard');
        displayedCard.src = "{{ url_for('static', filename='images/') }}" + selectedCards[index] + ".jpg";
        displayedCard.alt = "Tarot Card " + selectedCards[index];
    }

    document.getElementById('nextCard').addEventListener('click', function() {
        currentCardIndex++;
        if (currentCardIndex >= selectedCards.length) {
            displayedCard.src = endCardImage;
            // currentCardIndex = 0;  // loop back to the first card if you reach the end
        }
        showCard(currentCardIndex);
    });
</script>
{% endif %}


{% endblock %}
